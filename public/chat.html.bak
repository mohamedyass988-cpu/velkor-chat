<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8">
<title>Velkor Chat</title>
</head>

<body>

<h2>ØºØ±ÙØ© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</h2>
<p id="user"></p>

<ul id="messages"></ul>
<input id="m" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©">
<button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const params = new URLSearchParams(location.search);
document.getElementById("user").textContent =
  "ğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " + params.get("user");

function send() {
  socket.emit("chat", m.value);
  m.value = "";
}

socket.on("chat", msg => {
  const li = document.createElement("li");
  li.textContent = msg;
  messages.appendChild(li);
});
</script>

</body>
</html>